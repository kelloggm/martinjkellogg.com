<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/martinjkellogg.com/teaching/cs684-sp24/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/martinjkellogg.com/teaching/cs684-sp24/assets/css/just-the-docs-default.css"> <script src="/martinjkellogg.com/teaching/cs684-sp24/assets/js/vendor/lunr.min.js"></script> <script src="/martinjkellogg.com/teaching/cs684-sp24/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Homework 5: Invariants and Partial Oracles | CS 684 (Sp24)</title><meta name="generator" content="Jekyll v3.9.2" /><meta property="og:title" content="Homework 5: Invariants and Partial Oracles" /><meta name="author" content="Martin Kellogg" /><meta property="og:locale" content="en_US" /><meta name="description" content="The course website for NJIT CS 684 in Fall 2024" /><meta property="og:description" content="The course website for NJIT CS 684 in Fall 2024" /><link rel="canonical" href="https://web.njit.edu//martinjkellogg.com/teaching/cs684-sp24/projects/hw5.html" /><meta property="og:url" content="https://web.njit.edu//martinjkellogg.com/teaching/cs684-sp24/projects/hw5.html" /><meta property="og:site_name" content="CS 684 (Sp24)" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Homework 5: Invariants and Partial Oracles" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Martin Kellogg"},"description":"The course website for NJIT CS 684 in Fall 2024","headline":"Homework 5: Invariants and Partial Oracles","url":"https://web.njit.edu//martinjkellogg.com/teaching/cs684-sp24/projects/hw5.html"}</script><body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="/martinjkellogg.com/teaching/cs684-sp24/" class="site-title lh-tight"> CS 684 (Sp24) </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in Homeworks category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/" class="nav-list-link">Homeworks</a><ul class="nav-list "><li class="nav-list-item "><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/hw0.html" class="nav-list-link">Homework 0: Setup</a><li class="nav-list-item "><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/hw1.html" class="nav-list-link">Homework 1: Coverage Warmup</a><li class="nav-list-item "><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/hw2.html" class="nav-list-link">Homework 2: Coverage</a><li class="nav-list-item "><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/hw3.html" class="nav-list-link">Homework 3: Fuzzing with AFL</a><li class="nav-list-item "><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/hw4.html" class="nav-list-link">Homework 4: Generating Tests with EvoSuite</a><li class="nav-list-item active"><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/hw5.html" class="nav-list-link active">Homework 5: Invariants and Partial Oracles</a><li class="nav-list-item "><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/hw6.html" class="nav-list-link">Homework 6: Mutation Testing</a><li class="nav-list-item "><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/hw7.html" class="nav-list-link">Homework 7: Static Analysis with Infer</a><li class="nav-list-item "><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/hw8.html" class="nav-list-link">Homework 8: Abstract Interpretation Design</a><li class="nav-list-item "><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/hw9.html" class="nav-list-link">Homework 9: Abstract Interpretation Implementation</a><li class="nav-list-item "><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/hw10.html" class="nav-list-link">Homework 10: Formal Methods with Z3</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Tutorials category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/martinjkellogg.com/teaching/cs684-sp24/tutorials/" class="nav-list-link">Tutorials</a><ul class="nav-list "><li class="nav-list-item "><a href="/martinjkellogg.com/teaching/cs684-sp24/tutorials/reading-papers.html" class="nav-list-link">How to Read a Paper</a></ul><li class="nav-list-item"><a href="/martinjkellogg.com/teaching/cs684-sp24/calendar/" class="nav-list-link">Calendar</a><li class="nav-list-item"><a href="/martinjkellogg.com/teaching/cs684-sp24/exam/" class="nav-list-link">Exams</a><li class="nav-list-item"><a href="/martinjkellogg.com/teaching/cs684-sp24/staff/" class="nav-list-link">Staff</a><li class="nav-list-item"><a href="/martinjkellogg.com/teaching/cs684-sp24/about/" class="nav-list-link">Syllabus</a></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search CS 684 (Sp24)" aria-label="Search CS 684 (Sp24)" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://njit.instructure.com/courses/32931" class="site-button" > Canvas </a><li class="aux-nav-list-item"> <a href="https://discord.com/channels/1197590679623315466" class="site-button" > Discord </a><li class="aux-nav-list-item"> <a href="https://www.gradescope.com/courses/695850" class="site-button" > Gradescope </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/martinjkellogg.com/teaching/cs684-sp24/projects/">Homeworks</a><li class="breadcrumb-nav-list-item"><span>Homework 5: Invariants and Partial Oracles</span></ol></nav><div id="main-content" class="main-content" role="main"><h2 class="fs-6" id="homework-5-invariants-and-partial-oracles"> <a href="#homework-5-invariants-and-partial-oracles" class="anchor-heading" aria-labelledby="homework-5-invariants-and-partial-oracles"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Homework 5: Invariants and Partial Oracles <strong class="label label-red">Due Wednesday, February 28, 2024, 11:59PM AoE</strong></h2><h3 id="high-level-goal"> <a href="#high-level-goal" class="anchor-heading" aria-labelledby="high-level-goal"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> High-level goal</h3><p>The high-level goal of this two-part assignment is to learn about program invariants and partial test oracles (property-based testing and metamorphic testing). Both of these were discussed <a href="../assets/lecture-06.pdf">in lecture</a> this week.</p><p>Each part of the assignment requires you to do a task and then answer questions about your findings, similar to HW3 and HW4. There is no autograder for this assignment.</p><p>You <em>may</em> work with a partner for this assignment.</p><h3 id="part-1-invariants"> <a href="#part-1-invariants" class="anchor-heading" aria-labelledby="part-1-invariants"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Part 1: Invariants</h3><h4 id="instructions"> <a href="#instructions" class="anchor-heading" aria-labelledby="instructions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Instructions</h4><ol><li><p>Familiarize yourself with the <a href="https://plse.cs.washington.edu/daikon/download/doc/daikon/index.html">Daikon Invariant Detector</a>.</p><li><p>Then, run Daikon on a <a href="https://en.wikipedia.org/wiki/Data_structure">data structure</a> example of your choice. You may choose to run Daikon for any supported programming language (see installation instructions). You may select any data structure, but we recommend choosing a standard data structure such as a tree, graph, heap, stack, queue, trie, or hash table. If the data structure comes with a test suite, you may use that test suite. You are also permitted to write (or generate, e.g. using one of the tools that we’ve discussed in this course) your own test suite.</p><p>We strongly suggest selecting a data structure implementation that you are already familiar with. In particular, students are typically most successful at this assignment when they select a data structure that <em>they implemented</em> (usually, in a previous class, such as CS 610). You <strong>may not</strong> select a program that has already been a subject program in this course (in particular, you may not select <code class="language-plaintext highlighter-rouge">avl.py</code> from HW1) or that appears as an example in the Daikon user manual (linked above). Note that the data structure implementation you select does not need to be publicly available, but you will need to make it available to the course staff (so, for example, if you have some code from a prior course, you might include it with your submission on Canvas; I’ve configured Canvas to accept as many files as you want to provide for this assignment).</p></ol><h4 id="questions"> <a href="#questions" class="anchor-heading" aria-labelledby="questions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Questions</h4><p>Answer these questions as part of your writeup [rubric notes in these brackets].</p><ol><li><p>Provide a link to the chosen data structure or include the implementation of the data structure in your submission on Canvas (in your answer to this question, mention each extra file that you submit and its purpose). Also provide a link to the test suite you used (or include the test suite in your submission), and explain where you got the test suite. For this data structure and the corresponding Daikon output, give one example for a true invariant and one example for a discovered invariant that only holds for the given test suite. [1 point for true invariant, 1 point for invariant that only holds for the given test suite. Unbounded negative points for failing to provide all required information.]</p><li><p>Briefly explain which (if any) types of invariants discovered by Daikon are generally useful for testing and/or debugging (alternatively, briefly explain which types are not useful). There are no wrong answers: the provided answer is evaluated based on its justification not the expressed believe. [4 points for well-reasoned argument.]</p><li><p>For a software system that you are familiar with, briefly explain that system and state at least two types of invariants of interest (useful for testing and/or debugging). Briefly explain whether and how these invariants can be dynamically discovered. [1 point for each invariant and explanation.]</p></ol><h3 id="part-2-testing-with-partial-oracles"> <a href="#part-2-testing-with-partial-oracles" class="anchor-heading" aria-labelledby="part-2-testing-with-partial-oracles"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Part 2: Testing with Partial Oracles</h3><p>This part has two variants (A and B). You only need to complete one of them. However, if you complete both, you’ll receive two bonus points on the assignment.</p><h4 id="instruction-variant-a"> <a href="#instruction-variant-a" class="anchor-heading" aria-labelledby="instruction-variant-a"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Instruction: Variant A</h4><ol><li><p>Clone an open-source repository of your choice for a non-trivial software system that is amenable to metamorphic testing. The software system may be written in any programming language, but it must provide a build system for compilation and testing. You may <strong>not</strong> select a program that was used as part of a previous assignment in this course as a <em>subject</em> program (so you could select AFL, but you could not select libpng).</p><li>For the chosen software system, design <strong>two</strong> metamorphic relations (MRs):<ul><li>The two MRs must hold for arbitrary, well-formed inputs.<li>For <strong>at least one MR</strong>, the output relation must <strong>not</strong> be the identity function.</ul><li><p>Implement your two MRs as test-case generators, which take an initial test case as input and produce a follow-up test case as output.</p><li>Based on the designed MRs, automatically generate a few test cases and execute them. (For the initial test cases, you may rely on random input generation, any existing test cases, or manually created test cases.)</ol><h4 id="instructions-variant-b"> <a href="#instructions-variant-b" class="anchor-heading" aria-labelledby="instructions-variant-b"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Instructions: Variant B</h4><ol><li><p>Choose a non-trivial online software system for classification (e.g., text, images, code, etc.).</p><li>For the chosen software system, design <strong>three</strong> metamorphic relations (MRs):<ul><li>The three MRs must hold for arbitrary, well-formed inputs.<li>For <strong>at least two</strong> MRs, the output relation must <strong>not</strong> be the identity function.</ul><li>Based on the designed MRs, generate a few test cases, execute the online system, and observe its output. (You may automate the test-case generation.)</ol><h4 id="questions-1"> <a href="#questions-1" class="anchor-heading" aria-labelledby="questions-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Questions</h4><p>Answer these questions as part of your writeup [rubric notes in these brackets].</p><ol><li><p>Describe the chosen software system and justify for each of the designed MRs why it must hold for arbitrary, well- formed inputs. [1 point for the description of the system, 2 points for the descriptions of the MRs.]</p><li><p>Briefly summarize your observations about testing with MRs and state at least two characteristics of effective MRs. You may reason about the specific MRs you designed or MRs in general. [2 points for insightful observation, 1 point each for characteristics of effective MRs.]</p></ol><h3 id="submission-written-report"> <a href="#submission-written-report" class="anchor-heading" aria-labelledby="submission-written-report"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Submission: Written Report</h3><p>Write up your answers to the 5 questions above (Part 1 Questions 1-3, Part 2 Questions 1-2). Submit a plaintext (.txt) or PDF file to Canvas. Also submit any code or test cases that you used that are not publicly-available and linked from your report.</p><p>Although we do not have explicit formatting guidelines that we require you to follow, is is easier for the graders to interpret text that is presented clearly. We encourage you to format your results in a manner that you think would simplify reading later. (One way to double-check would be to write your report draft and then step back for a few minutes and then re-read the text or have your partner re-read the text.) You may organize your report as paragraphs, bullet points, explicit answers to each question, or whatever other organization you think will be easiest for us to interpret.</p><p>As usual in this class, you may use files, benchmarks or resources from the Internet (unlike in many other classes), provided you cite them in your written report. (If you use the same resource many times, such as StackOverflow, one citation per resource suffices.)</p><h3 id="frequently-asked-questions"> <a href="#frequently-asked-questions" class="anchor-heading" aria-labelledby="frequently-asked-questions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Frequently-asked Questions</h3><ol><li><p><strong>Question</strong>: I’m not sure what “non-trivial software system” means in Part 2.</p><p><strong>Answer</strong>: For Variant A, the software should be publicly-available (e.g., on Github) and actively-maintained (i.e., commits are regularly made to add features or fix bugs). It should also exist to accomplish some task - it must not be a toy or a course project (e.g., a “twitter clone” that is not actually deployed anywhere is not allowed). We recommend that you select a program in the same category as the subject programs from previous homeworks, (e.g., JSoup or libpng would be good choices, if they had not been used in previous homeworks).</p><p>For Variant B, the software should be actively supported, and you should be able to point to a URL. We typically expect you to choose well-known online classification systems if you choose Variant B.</p><li><p><strong>Question</strong>: Is it possible to start Part 2 before finishing Part 1?</p><p><strong>Answer</strong>: There are no dependencies between Part 1 and Part 2, and you can complete them in either order.</p></ol><hr><footer><p class="text-small text-grey-dk-100 mb-0">&copy; 2022-2024 Martin Kellogg, Westley Weimer, René Just, Jonathan Bell, Adeel Bhutta and Mitch Wand. Released under the <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a> license</p></footer></div></div><div class="search-overlay"></div></div>
