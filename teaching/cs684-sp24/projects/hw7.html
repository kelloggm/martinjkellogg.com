<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/~martinjkellogg.com/teaching/cs684-sp24/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/~martinjkellogg.com/teaching/cs684-sp24/assets/css/just-the-docs-default.css"> <script src="/~martinjkellogg.com/teaching/cs684-sp24/assets/js/vendor/lunr.min.js"></script> <script src="/~martinjkellogg.com/teaching/cs684-sp24/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Homework 7: Static Analysis with Infer | CS 684 (Sp24)</title><meta name="generator" content="Jekyll v3.9.2" /><meta property="og:title" content="Homework 7: Static Analysis with Infer" /><meta name="author" content="Martin Kellogg" /><meta property="og:locale" content="en_US" /><meta name="description" content="The course website for NJIT CS 684 in Fall 2024" /><meta property="og:description" content="The course website for NJIT CS 684 in Fall 2024" /><link rel="canonical" href="https://web.njit.edu//~martinjkellogg.com/teaching/cs684-sp24/projects/hw7.html" /><meta property="og:url" content="https://web.njit.edu//~martinjkellogg.com/teaching/cs684-sp24/projects/hw7.html" /><meta property="og:site_name" content="CS 684 (Sp24)" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Homework 7: Static Analysis with Infer" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Martin Kellogg"},"description":"The course website for NJIT CS 684 in Fall 2024","headline":"Homework 7: Static Analysis with Infer","url":"https://web.njit.edu//~martinjkellogg.com/teaching/cs684-sp24/projects/hw7.html"}</script><body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="/~martinjkellogg.com/teaching/cs684-sp24/" class="site-title lh-tight"> CS 684 (Sp24) </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in Homeworks category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/" class="nav-list-link">Homeworks</a><ul class="nav-list "><li class="nav-list-item "><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/hw0.html" class="nav-list-link">Homework 0: Setup</a><li class="nav-list-item "><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/hw1.html" class="nav-list-link">Homework 1: Coverage Warmup</a><li class="nav-list-item "><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/hw2.html" class="nav-list-link">Homework 2: Coverage</a><li class="nav-list-item "><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/hw3.html" class="nav-list-link">Homework 3: Fuzzing with AFL</a><li class="nav-list-item "><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/hw4.html" class="nav-list-link">Homework 4: Generating Tests with EvoSuite</a><li class="nav-list-item "><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/hw5.html" class="nav-list-link">Homework 5: Invariants and Partial Oracles</a><li class="nav-list-item "><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/hw6.html" class="nav-list-link">Homework 6: Mutation Testing</a><li class="nav-list-item active"><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/hw7.html" class="nav-list-link active">Homework 7: Static Analysis with Infer</a><li class="nav-list-item "><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/hw8.html" class="nav-list-link">Homework 8: Abstract Interpretation Design</a><li class="nav-list-item "><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/hw9.html" class="nav-list-link">Homework 9: Abstract Interpretation Implementation</a><li class="nav-list-item "><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/hw10.html" class="nav-list-link">Homework 10: Formal Methods with Z3</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Tutorials category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/~martinjkellogg.com/teaching/cs684-sp24/tutorials/" class="nav-list-link">Tutorials</a><ul class="nav-list "><li class="nav-list-item "><a href="/~martinjkellogg.com/teaching/cs684-sp24/tutorials/reading-papers.html" class="nav-list-link">How to Read a Paper</a></ul><li class="nav-list-item"><a href="/~martinjkellogg.com/teaching/cs684-sp24/calendar/" class="nav-list-link">Calendar</a><li class="nav-list-item"><a href="/~martinjkellogg.com/teaching/cs684-sp24/exam/" class="nav-list-link">Exams</a><li class="nav-list-item"><a href="/~martinjkellogg.com/teaching/cs684-sp24/staff/" class="nav-list-link">Staff</a><li class="nav-list-item"><a href="/~martinjkellogg.com/teaching/cs684-sp24/about/" class="nav-list-link">Syllabus</a></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search CS 684 (Sp24)" aria-label="Search CS 684 (Sp24)" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://njit.instructure.com/courses/32931" class="site-button" > Canvas </a><li class="aux-nav-list-item"> <a href="https://discord.com/channels/1197590679623315466" class="site-button" > Discord </a><li class="aux-nav-list-item"> <a href="https://www.gradescope.com/courses/695850" class="site-button" > Gradescope </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/~martinjkellogg.com/teaching/cs684-sp24/projects/">Homeworks</a><li class="breadcrumb-nav-list-item"><span>Homework 7: Static Analysis with Infer</span></ol></nav><div id="main-content" class="main-content" role="main"><h2 class="fs-6" id="homework-7-static-analysis-with-infer"> <a href="#homework-7-static-analysis-with-infer" class="anchor-heading" aria-labelledby="homework-7-static-analysis-with-infer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Homework 7: Static Analysis with Infer <strong class="label label-red">Due Wednesday, April 3, 2024, 11:59PM AoE</strong></h2><p>In this assignment you will use a static analysis tool to automatically detect potential defects in three subject programs. The static analysis tool is <a href="http://fbinfer.com/">Facebook’s Infer</a>, which focuses on memory errors, leaks, race conditions, and API issues. Infer is <a href="https://code.facebook.com/posts/1648953042007882/open-sourcing-facebook-infer-identify-bugs-before-you-ship/">open source</a>.</p><p>You <i>may</i> work with a partner for this assignment. If you do you must use the same partner for all sub-components of this assignment.</p><details> <summary>Warning: Infer Can Be Hard To Run</summary><p>You should use the setup from HW0 to run Infer. Previous students have reported that Infer does <i>not</i> run on the Windows Subsystem for Linux (WSL) or similar shortcuts for using Ubuntu- or Linux-like interfaces. Headless Virtual Box configurations are reported to work well. Officially, however, the HW0 setup is the (only) supported configuration for the class.</p><p>It is <b>your responsibility</b> to download, compile, run and analyze the subject program and associated tools. Getting the code and tools to work in some manner is <b>part of the assignment</b>. You can post on the forum for help and compare notes bemoaning various architectures (e.g., windows vs. mac vs. linux, etc.). Ultimately, however, it is your responsibility to read the documentation for these programs and tools and use some elbow grease to make them work.</p></details><h3 id="the-static-analysis-tool-infer"> <a href="#the-static-analysis-tool-infer" class="anchor-heading" aria-labelledby="the-static-analysis-tool-infer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The Static Analysis Tool: Infer</h3><p>The <tt>Infer</tt> tool is a static analyzer — it detects bugs in programs without running them. The primary website is <a href="http://fbinfer.com/">fbinfer.com</a>.</p><p>Unfortunately, some versions of <tt>Infer</tt> can be obnoxious to build and/or install, despite their handy <a href="https://fbinfer.com/docs/getting-started">installation guide</a>. We recommend that you use Infer’s <a href="https://github.com/facebook/infer/releases/download/v1.1.0/infer-linux64-v1.1.0.tar.xz">latest binary release</a>, which we have tested on the HW0 setup on the subject programs.</p><p>While times will vary, some students have reported that running Infer on jfreechart can take five hours. Start early!</p><p>You can find Infer’s output in the <code class="language-plaintext highlighter-rouge">infer-out</code> folder.</p><h4 id="first-subject-program-lighttpd-webserver"> <a href="#first-subject-program-lighttpd-webserver" class="anchor-heading" aria-labelledby="first-subject-program-lighttpd-webserver"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> First Subject Program: lighttpd Webserver</h4><p> We will make use of the <a href="https://www.lighttpd.net/"><tt>lighttpd</tt> webserver</a> (pronounced "lighty"), version 1.4.17, as our first subject program for this homework. A <a href="../assets//lighttpd-1.4.17.tar.gz"> local mirror copy of <tt>lighttpd-1.4.17.tar.gz</tt></a> is available, but you can also get it from the <a href="https://download.lighttpd.net/lighttpd/releases-1.4.x/">original website</a> (but note that the specific version number is important: if you use a more recent version of lighttpd, you may struggle on some parts of the report). It is about 55,000 lines of code in about 90 files.</p><p> While not as large or popular as <tt>apache</tt>, at various points <a href="https://en.wikipedia.org/wiki/Lighttpd"><tt>lighttpd</tt> has been used by</a> YouTube, xkcd and Wikimedia. Much like <tt>apache</tt>, old verisons of it have a number of known security vulnerabilities.</p><p> The <a href="https://en.wikipedia.org/wiki/Common_Vulnerabilities_and_Exposures">Common Vulnerabilities and Exposures</a> system is one approach for tracking security vulnerabilities. A CVE is basically a formal description, prepared by security experts, of a software bug that has security implications.</p><p> There are at least ten CVEs associated with <tt>lighttpd</tt> 1.4.17 tracked in various lists (such as <a href=" https://www.cvedetails.com/vulnerability-list/vendor_id-2713/product_id-4762/Lighttpd-Lighttpd.html">cvedetails</a> or <a href="https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=lighttpd">mitre</a>). For example, <a href="https://www.cvedetails.com/cve/CVE-2014-2324/">CVE-2014-2324</a> has the description "Multiple directory traversal vulnerabilities in (1) mod_evhost and (2) mod_simple_vhost in lighttpd before 1.4.35 allow remote attackers to read arbitrary files via a .. (dot dot) in the host name, related to request_check_hostname." You can dig into the information listed in, or linked from, a CVE (or just look at subsequent versions of the program where the bug is fixed!) to track down details. Continuing the above example, mod_evhost refers to source file <tt>mod_evhost.c</tt>, mod_simple_vhost refers to file <tt>mod_simple_vhost.c</tt>, and request_check_hostname is in file <tt>request.c</tt>. You will want such information when evaluating the whether or not the tools find these security bugs.</p><h4 id="infer-on-lighttpd"> <a href="#infer-on-lighttpd" class="anchor-heading" aria-labelledby="infer-on-lighttpd"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Infer on lighttpd</h4><p>Once you have <tt>Infer</tt> built or downloaded, applying it to <tt>lighttpd</tt> should be as simple as:</p><pre>
$ sudo apt install make
$ sudo apt install python2-minimal
$ sudo apt install zlib1g zlib1g-dev
$ cd lighttpd-1.4.17 
$ sh configure
$ /path/to/infer/bin/infer run -- make 
</pre><p> That should produce output similar to (but everything is fine if you get very different numbers):</p><details> <summary>Lighttpd Output Sample</summary><pre>
make[1]: Leaving directory '/home/weimer/src/lighttpd-1.4.17'
Found 88 source files to analyze in /home/weimer/src/lighttpd-1.4.17/infer-out
Starting analysis...

legend:
  "F" analyzing a file
  "." analyzing a procedure

FFFFFFFFFF.....F...FF....F..FF.F..F....................................................................................FF.................................................F...........F..................F..................F...........................................................................F....................................................................F........................................................F.......F.................F...............F.......FF.............F...................F.............F.........F...F.................F...................................F............FF.F.....F.......................F.....FF..............F..F........FF..........FF.............FF.......FF.F....F......F......FFF..............F.........F...F......F...........F.......FF..........F.F...........F...F..F.......F..F...F........................F..F.........F....F........F.....F..F..........F............F....F...................F................................................................................................................................................

Found 308 issues

src/joblist.c:19: error: NULL_DEREFERENCE
  pointer `srv-&gt;joblist-&gt;ptr` last assigned on line 16 could be null and is dereferenced at line 19, column 2.
  17.           }
  18.
  19. &gt;         srv-&gt;joblist-&gt;ptr[srv-&gt;joblist-&gt;used++] = con;
  20.
  21.           return 0;

	...

Summary of the reports

      NULL_DEREFERENCE: 145
            DEAD_STORE: 94
           MEMORY_LEAK: 65
         RESOURCE_LEAK: 3
  QUANDARY_TAINT_ERROR: 1
</pre><p> (Before you worry about getting different numbers, double-check the prose above: it is fine to get different numbers. Similarly, it is common for this tool to only report a few "types" of defects: if you only see a few "types" of defects, you are running the tool correctly.) You will have to read through the output carefully and analyze the reported defects. Some will be true positives (i.e., real bugs in the code) and some will be false positives (i.e., spurious warnings that do not correspond to real bugs).</p></details><h4 id="second-subject-program-jfreechart"> <a href="#second-subject-program-jfreechart" class="anchor-heading" aria-labelledby="second-subject-program-jfreechart"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Second Subject Program: JFreeChart</h4><p>The second subject program is the <a href="http://www.jfree.org/jfreechart/">JFreeChart</a> chart creation library. It is used to produce quality charts for a variety of applications and files. It contains about 300,000 lines of Java code spread over about 640 files. We will use JFreeChart version 1.5.0, which is available <a href="../assets/jfreechart-1.5.0.tar.gz">here</a>.</p><p> Running <tt>Infer</tt> on JFreeChart similarly direct to running Infer on lighttpd:</p><details> <summary>JFreeChart Output Sample</summary><pre>
$ cd jfreechart-1.5.0
$ /path/to/infer/bin/infer run -- mvn compile
Capturing in maven mode...
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building JFreeChart 1.5.0

	...

Found 640 source files to analyze in /home/weimer/src/jfreechart-1.5.0/infer-out
Starting analysis...

	...

Found 69 issues

src/main/java/org/jfree/data/xml/DatasetReader.java:73: error: RESOURCE_LEAK
  resource of type `java.io.FileInputStream` acquired to `in` by call to `FileInputStream(...)` at line 72 is not released after line 73.
  71.           throws IOException {
  72.           InputStream in = new FileInputStream(file);
  73. &gt;         return readPieDatasetFromXML(in);
  74.       }

...

Summary of the reports

  THREAD_SAFETY_VIOLATION: 43
         NULL_DEREFERENCE: 22
            RESOURCE_LEAK: 4
</pre></details><h4 id="third-subject-program-your-choice"> <a href="#third-subject-program-your-choice" class="anchor-heading" aria-labelledby="third-subject-program-your-choice"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Third Subject Program: Your Choice</h4><p>Run Infer on one other substantial subject program of your choice. The target program must fulfill the following criteria:</p><ul><li>it must be open-source<li>it must be “substantial”: that is, it must have a real use and not be a toy or example, and it should be reasonably complicated in the sense that you cannot read the whole program easily in one sitting<li>it should be written in a language supported by Infer</ul><p>Otherwise, the choice is up to you. Note, however, that the report will ask you to justify why it is interesting to run Infer on the program that you choose. If you’re unsure of what sort of project to choose, the subject programs from other assignments in this class are a good place to look (although not all subject programs are acceptable: for example, <code class="language-plaintext highlighter-rouge">fuzzywuzzy.py</code> from HW6 is not an acceptable choice, because it is not “substantial”).</p><h3 id="written-report"> <a href="#written-report" class="anchor-heading" aria-labelledby="written-report"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Written Report</h3><p>Write a detailed report reflecting on your experience running Infer on the three subject programs. Your report must include your NJIT UCID (and your partner’s, if you choose to work in a group). Keep in mind that you need to cite any outside sources that you used during the assignment (besides the tool itself and its documentation).</p><p>Your report must address at least the following topics:</p><ul><li>[Setup] In a few sentences, describe your setup experience with Infer. This might include dependencies, installation, run time, etc. <small>[1 point for description]</small><li>[Usability] In a few sentences, describe your usability experience with Infer. This might include locating the reports, navigating the report or documentation website, etc. You should also contrast your usability experience with Infer versus at least one other tool that we have used in this course (of your choice). <small>[1 point for description, 1 point for contrast, 1 point for insightful analysis]</small><li>[Overall] At a high level, what did Infer do well? How might it be improved? Comment on defect report categorizations (e.g., NULL_DEREFERENCE). Did you observe any “duplicate” defect reports (i.e., the same underlying issue was reported in terms of multiple different symptoms)? What are the costs (in general, including developer time, monetary cost, risks, training, etc., and anything else mentioned at any point in class) associated with using Infer? <small>[2 points for overall description, 1 point for categories, 1 point for duplicates, 1 point for costs]</small><li>[CVE] Choose two of the CVEs associated with <tt>lighttpd</tt>. For each CVE, describe whether or not the tool reported the issue associated with the CVE (or would otherwise have pointed you to it). You must choose at least one CVE such that the tool points out the CVE in some manner. Overall, how effective is this tool at finding security defects? <small>[1 point for each CVE, 1 point for conclusion]</small><li>[Additional] Briefly describe the additional subject program that you chose. Why might it be interesting to run a static analysis on this program? What sort of defects might you expect to find (or not find), and why? <small>[1 point for description, 1 point for why it would be interesting]</small><li>[Comparison] Compare and contrast the defect reports produced for the three subject programs. On which did you find it most useful? Consider false positives, false negatives, and issues that you would consider to have high priority or severity. Include (copy-and-paste, screenshot, etc.) part of one report you found particularly noteworthy (good, bad, complex: your choice) and explain it. <small>[3 point for compare/contrast, 1 point for inlined report and analysis, 2 point for other insights]</small></ul><p>Note that the above grading rubric sums to 20 points, but the assignment is worth 10 points on Canvas. Your score on the assignment is the number of points that you get from the rubric above divided by 2, to normalize effort vs the other homeworks.</p><p>Students are often anxious about a particular length requirement for this report. Unfortunately, some students include large screenshots and others do not, so raw length counts are not as useful as one might hope. Instead, I will say that in this homework we often see varying levels “insight” or “critical thinking” from students. I know that’s the sort of wishy-washy phrasing that students hate to hear (“How can I show insight?”). But some of the questions (e.g., “what does cost mean in this report?”) highlight places where some students give one direct answer and some students consider many nuances. Often considering many nuances is a better fit (but note that if you make things too long you lose points for not being verbose or readable – yes, this is tough).</p><p>Let us consider an example from the previous homework. Suppose we had asked you whether mutation testing worked or not. Some students might be tempted to respond with something like “Yes, mutation testing worked because it put test suite A ahead of test suite B, and we know A is better than B because it has more statement coverage.” That’s a decent answer … but it overlooks the fact that statement coverage is not actually the ground truth. (It is somewhat akin to saying “yes, we know the laser range finder is good because it agrees with my old bent ruler”.) Students who give that direct answer get most of the credit, but students who explain that nuance, perhaps finding some other ways to indicate whether mutation testing worked or not, and what that even means, would get the most credit (and will also have longer reports). Students are often concerned about length, but from a grading perspective, the real factor is the insight provided.</p><h4 id="submission"> <a href="#submission" class="anchor-heading" aria-labelledby="submission"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Submission</h4><p>Submit a single PDF report via Canvas. You must include your name and UCID (and your partner’s, if applicable).</p><p>There is no explicit format required. For example, you may use either an essay structure or a point-by-point list of questions and answers, or any other structure that communicates your point.</p><h3 id="faq-and-troubleshooting"> <a href="#faq-and-troubleshooting" class="anchor-heading" aria-labelledby="faq-and-troubleshooting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> FAQ and Troubleshooting</h3><ol><li><p><b>Question:</b> When I run <tt>infer.exe run -- make</tt> or <tt>infer run -- mvn compile</tt> I get errors like <tt>InferModules__SqliteUtils.Error</tt> or <tt>Maven command failed</tt>.</p><p><b>Answer:</b> The most common issue is that <tt>Infer</tt> does not always run well on Windows Subsystem for Linux (WSL) or similar shortcuts to get a Linux- or Ubuntu-like interface on another OS. We strongly recommend a headless Virtual Box setup or a cloud machine (as recommended in HW0).</p><li><p><b>Question:</b> When I try to run Infer, I get <tt>cannot execute binary file: Exec format error.</tt>.</p><p><b>Answer: </b> One student reports: "Finally got it. Turns out I was using a 32 bit processor (i386) so even when I set up my vm as 64 bit, it couldn’t run any x86-64 binaries. Fixed it by installing a 64 bit vdi. <a href="https://appuals.com/fix-cannot-execute-binary-file-exec-format-error-ubuntu/"> https://appuals.com/fix-cannot-execute-binary-file-exec-format-error-ubuntu/</a><li><p><b>Question:</b> I see <tt>Maven command failed: *** mvn compile -P infer-capture</tt> when I try to run Infer.</p><p><b>Answer:</b> Some students have seen success with:<pre>
sudo apt-get install cobertura maven
sudo apt-get install openjdk-8-jdk
</pre>Others reported that "I ended up having to setup an Ubuntu VM in VirtualBox".</p><li><p><b>Question:</b> When I try to run Infer on JFreeChart, I get a `Compilation failure` including the following text (but compilation succeeds if I try to just run `mvn compile` on its own):<pre>
Usage Error: *** Maven command failed:
*** mvn compile -P infer-capture
*** exited with code 1
</pre><p><b>Answer:</b> The problem is usually that there is a Java Runtime Environment (JRE) installed on your machine, but not a Java Development Kit (JDK). Try running `which javac`; if you get no output, then you need to install a JDK. You can install a JDK with `sudo apt-get install openjdk-11-jdk` (or similar for other Java versions).<li><p><b>Question:</b> When I try to run infer on <tt>lighttpd</tt>, it dies when trying to build the first file with an error like:<pre>
External Error: *** capture command failed:
*** make
*** existed with code 2
Run the command again with `--keep-going` to try and ignore this error.
</pre><p><b>Answer:</b> Some students have reported that starting over and being careful to run all of the commands resolved this issue. It may be caused by missing some required command from the instructions.<li><p><b>Question:</b> When I try to run infer, I get some output but then <tt>Fatal error: out of memory</tt>. What can I do?</p><p><b>Answer:</b> You may need to assign your virtual machine more memory (see HW0 for setup). You may also need to choose a different subject progam. Some students have reported this when analyzing <tt>cpython</tt> &mdash; perhaps a different program would work for you.</p><li><p><b>Question:</b> When I try to run infer on <tt>libpng</tt>, it dies when trying to build the first file with an error like:<pre>
External Error: *** capture command failed:
*** make
*** existed with code 2
Run the command again with `--keep-going` to try and ignore this error.
</pre><p><b>Answer:</b> One student reported that being careful to install all of the required build utilities, such as with this exact sequences, resolved the issue:<pre>
sudo apt install make
sudo apt install python-minimal
</pre></p><li><p><b>Question:</b> When I try to run infer on a program (e.g., <tt>lighttpd</tt>), it seems to produce no reports or output when I run <tt>infer run -- make</tt>. Instead, if I look very carefully at the output, hidden near the bottom is a warning like:<pre>
** Error running the reporting script: 
</pre><p><b>Answer:</b> You must have your directories set up so that <tt>infer/bin/infer</tt> is "next to" other files like <tt>infer/lib/python/report.py</tt>. Infer uses those extra scripts to actually generate human-readable reports. If you tried to copy the infer binary somewhere else, it won't work. Make sure you have all of the components of infer in consistent locations.</p><li><p><b>Question:</b> I'm not certain why "false positives" and "false negatives" are relevant for comparing the tools. I'm also not certain how we tell if something is a false positive or a false negative. Can you elaborate?</p><p><b>Answer:</b> We can elaborate a bit, but I will note that this aspect of the assignment is assessing your mastery of course concepts. That is, why false positives and false negative might be important, and how to distinguish between them, are critical software engineering concepts and might come up on exams as well. You may want to double-check your notes on these, including on the readings. Now for more detail:</p><p> Suppose you are able to determine the false positive <i>rate</i> of one tool &mdash; or approximate it. For example, suppose you find that Tool #1 produces twice as many false positives as Tool #2. Well, then you might combine that with some of the reading for the class. For example, this week's <a href="https://web.njit.edu/~martinjkellogg.com/teaching/cs490-au23/assets/findbugs.pdf"> FindBugs reading</a> notes "Our ranking and false positive suppression mechanisms are crucial to keeping the displayed warnings relevant and valuable, so that users don’t start ignoring the more recent, important warnings" (among other comments on false alarms), while another (not assigned, but interesting nonetheless!) <a href="https://cacm.acm.org/magazines/2010/2/69354-a-few-billion-lines-of-code-later/fulltext">similar paper</a> notes "False positives do matter. In our experience, more than 30% easily cause problems. People ignore the tool. True bugs get lost in the false. A vicious cycle starts where ..." among other comments on false alarms.<p> Something similar could be considered for false negatives. To give a prose example rather than a reading list this time, a report might include a claim like: "Many developers will dislike a tool that claims to find Race Conditions but actually misses 99% of them. If the tool has that many false negatives, developers will feel they cannot gain confidence in the quality of the software and will instead turn to other techniques, such as testing, that increase confidence in quality assurance." I'm not saying that is a good or a bad argument, but it is an example of the sort of analytic text or line of reasoning that might be applicable here.</p><p> Students often wonder: "How do I know if the tool is missing a bug?" Unfortunately, that's a real challenge. There are at least two ways students usually approach that problem, and both require labor or effort. Similarly, determining if a report is a false alarm usually requires reading it and comprehending the code nearby.</p><p> I can't really say much more here without giving away too much of what we expect from you on this part of the assignment, but I can reiterate the soundness and completeness (false positives and false negatives) are significant concepts in this course and that you should include them, coupled with your knowledge of the human element of such tools, in your assessment of the tools.</p></p></p></p></p></p></p></p></p></ol><hr><footer><p class="text-small text-grey-dk-100 mb-0">&copy; 2022-2024 Martin Kellogg, Westley Weimer, René Just, Jonathan Bell, Adeel Bhutta and Mitch Wand. Released under the <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a> license</p></footer></div></div><div class="search-overlay"></div></div>
